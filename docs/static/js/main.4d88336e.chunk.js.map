{"version":3,"sources":["library-client.ts","components/userList.tsx","components/userCheck.tsx","components/game.tsx","components/gameList.tsx","components/theme.tsx","components/alert.tsx","components/app.tsx","index.tsx"],"names":["_","require","getUserId","handle","token","a","key","cachedid","localStorage","getItem","JSON","parse","fetch","method","headers","response","json","steamid","setItem","getGames","cachedgames","undefined","fetchGames","Promise","resolve","then","catch","err","console","log","alert","games","stringify","getFriends","cachedfriends","fetchFriends","friends","fetchLibraries","handles","fetchLibrary","fetchAll","libs","resolvedCount","i","library","length","libraries","getLibraries","fetchSummary","getProfile","summary","fetchSummaryByHandle","cachedprofiles","fetchProfile","profile","verifyRecaptcha","callback","body","block","display","hidden","UserList","props","mainUser","addUserHandler","removeUserHandler","waitingFunc","passSummaries","userWaitingFunc","userWaitingIndex","useState","summaries","setSummaries","spinnerHide","setSpinnerHide","listRef","useRef","useEffect","ref","current","scrollIntoView","behavior","scrollToList","client","sums","hideSpinners","Array","Object","keys","fill","temp","splice","initAttr","style","fontSize","marginLeft","paddingTop","className","maxWidth","marginBottom","map","user","index","includes","steamID","nickname","alignItems","onClick","event","$","target","parent","hasClass","toggleClass","siblings","removeClass","addClass","attr","toggleFriend","src","avatar","medium","alt","title","width","height","marginRight","UserCheck","userHandler","waiting","setHandle","jwt","setJwt","window","checkUser","tryCheckUser","script","document","createElement","type","innerHTML","appendChild","placeholder","value","onChange","e","onKeyPress","paddingLeft","justifyContent","img","float","userimg","imgs","users","Game","game","appID","name","logoURL","multiplayerIds","PopulateList","multiplayerOnly","output","forEach","push","GameList","scroll","setGames","setLibraries","multiplayerFlag","setMultiplayerFlag","scrolled","setScrolled","combined","owned","unique","uniqWith","isEqual","sort","b","gameA","toUpperCase","gameB","comparison","filter","obj","some","obj2","test","find","enabled","textAlign","disabled","Theme","themeStyle","setThemeStyle","buttonStyle","setButtonStyle","showThemeHandler","StyledPopup","styled","Popup","Alert","content","onClose","open","setOpen","closeOnDocumentClick","alignCenter","header","overflow","textOverflow","whiteSpace","padding","App","setHandles","setMainUser","lastAction","setLastAction","alertContent","setAlertContent","setWaiting","setUserWaitingIndex","mainUserCache","waitingHandler","userWaitingHandler","added","concat","reloadHandler","id","indexOf","removed","mainID","sum","clearCacheButton","idKey","friendKey","theme","clear","location","reload","href","border","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4d88336e.chunk.js","sourcesContent":["var _ = require('lodash');\r\n\r\nconst verifyCaptchaUrl = 'https://54z0aarbpc.execute-api.eu-west-1.amazonaws.com/default/verify_reCaptcha_Function';\r\nconst resolveUserUrl = 'https://9192zxrrp6.execute-api.eu-west-1.amazonaws.com/default/get_steamUserIdFromHandle_Function';\r\nconst gamesListUrl = 'https://k14n0rcap5.execute-api.eu-west-1.amazonaws.com/default/get_userOwnedGames_Function';\r\nconst userSummaryUrl = 'https://8ydkm187n9.execute-api.eu-west-1.amazonaws.com/default/get_userSummary_Function';\r\nconst friendListUrl = 'https://nuxq04drl5.execute-api.eu-west-1.amazonaws.com/default/get_userFriendList_Function';\r\n\r\nexport const process = (libraries, summaries) => {\r\n\r\n  if (!libraries || !summaries) {\r\n    return null;\r\n  }\r\n\r\n  // combine all libraries, duplicates included\r\n  let combined: any[] = [];\r\n\r\n  const keys = Object.keys(libraries);\r\n\r\n  keys.forEach(key => {\r\n    const library = libraries[key];\r\n\r\n    // wipe old data\r\n    library.forEach(game => {\r\n      delete game.owned;\r\n      delete game.users;\r\n    });\r\n\r\n    combined.push(...library);\r\n  });\r\n\r\n  // get all unique games in all libraries\r\n  let unique = _.uniqWith(combined, _.isEqual);\r\n\r\n  // order the unique games\r\n  const compare = (a, b) => {\r\n    const gameA = a.name.toUpperCase();\r\n    const gameB = b.name.toUpperCase();\r\n\r\n    let comparison = 0;\r\n    if (gameA > gameB) {\r\n      comparison = 1;\r\n    } else if (gameA < gameB) {\r\n      comparison = -1;\r\n    }\r\n    return comparison;\r\n  }\r\n\r\n  unique.sort(compare);\r\n\r\n  // count how many users own each game and add a property to record it\r\n  keys.forEach(key => {\r\n\r\n    const library = libraries[key];\r\n\r\n    // find values that are in unique list and also in library\r\n    var owned = unique.filter(function(obj) {\r\n        return library.some(function(obj2) {\r\n            return obj.appID === obj2.appID;\r\n        });\r\n    });\r\n\r\n    // loop through the owned list and increase the count in the unique list\r\n    owned.forEach(game => {\r\n\r\n      const current = unique.filter(test => test.appID === game.appID)\r\n\r\n      if (current.length === 1) {\r\n        if (current[0][\"owned\"]) {\r\n          current[0][\"owned\"]++;\r\n        } else {\r\n          current[0][\"owned\"] = 1;\r\n          current[0][\"users\"] = [];\r\n        }\r\n\r\n        if (summaries && summaries.length > 0) {\r\n          let user = summaries.find(obj => obj.steamID === key);\r\n          current[0][\"users\"].push(user);\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  // order by number owned\r\n  const compare2 = (a, b) => {\r\n    const gameA = a.owned;\r\n    const gameB = b.owned;\r\n\r\n    let comparison = 0;\r\n    if (gameA < gameB) {\r\n      comparison = 1;\r\n    } else if (gameA > gameB) {\r\n      comparison = -1;\r\n    }\r\n    return comparison;\r\n  }\r\n\r\n  unique.sort(compare2);\r\n\r\n  // trim off games that are only owned by 1 users\r\n  const filtered = unique.filter(test => {\r\n    return test.owned > 1\r\n  });\r\n\r\n  return filtered;\r\n}\r\n\r\n\r\nexport const getUserId = async (handle, token) => {\r\n\r\n  const key = `${handle}_steamid`;\r\n\r\n  const cachedid = localStorage.getItem(key);\r\n  if (cachedid != null && cachedid !== '')\r\n    return JSON.parse(cachedid);\r\n\r\n  const response = await fetch(`${resolveUserUrl}?handle=${handle}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        });\r\n\r\n  const steamid = await response.json();\r\n\r\n  localStorage.setItem(key, steamid);\r\n\r\n  return steamid;\r\n}\r\n\r\n\r\nconst getGames = async (steamid, token) => {\r\n\r\n  const key = `${steamid}_games`;\r\n\r\n  const cachedgames = localStorage.getItem(key);\r\n  if (cachedgames && cachedgames !== undefined && cachedgames !== '') {\r\n    try {\r\n       return JSON.parse(cachedgames);\r\n    }\r\n    catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const fetchGames = (steamid) => {\r\n    return new Promise((resolve) => {\r\n      (async () => {\r\n        await fetch(`${gamesListUrl}?steamid=${steamid}`, {\r\n                  method: 'GET',\r\n                  headers: {\r\n                      \"Authorization\": `Bearer ${token}`\r\n                  }\r\n              })\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            resolve(response)\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            alert(`Game list fetch failed for ${steamid}. Are the games listed as public?`);\r\n            resolve(null);\r\n          });\r\n        })();\r\n      });\r\n  };\r\n\r\n  const games = await fetchGames(steamid);\r\n\r\n  if (games) {\r\n    localStorage.setItem(key, JSON.stringify(games));\r\n  }\r\n\r\n  return games;\r\n}\r\n\r\n\r\nexport const getFriends = async (steamid, handle, token) => {\r\n\r\n  const key = `${steamid}_friends`;\r\n\r\n  const cachedfriends = localStorage.getItem(key);\r\n  if (cachedfriends && cachedfriends !== undefined && cachedfriends !== '') {\r\n    try {\r\n       return JSON.parse(cachedfriends);\r\n    }\r\n    catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const fetchFriends = (steamid) => {\r\n    return new Promise((resolve) => {\r\n      (async () => {\r\n        await fetch(`${friendListUrl}?steamid=${steamid}`, {\r\n                  method: 'GET',\r\n                  headers: {\r\n                      \"Authorization\": `Bearer ${token}`\r\n                  }\r\n              })\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            resolve(response)\r\n          })\r\n          .catch(err => {\r\n            alert(`Friend list fetch failed for ${handle}.`);\r\n            resolve(null);\r\n          });\r\n        })();\r\n      });\r\n  };\r\n\r\n  const friends = await fetchFriends(steamid);\r\n\r\n  if (friends) {\r\n    localStorage.setItem(key, JSON.stringify(friends));\r\n  }\r\n\r\n  return friends;\r\n}\r\n\r\n\r\nconst fetchLibraries = async (handles, token) => {\r\n\r\n  const fetchLibrary = (steamid, token) => {\r\n    return new Promise((resolve) => {\r\n      (async () => {\r\n        await getGames(steamid, token)\r\n          .then(games => {\r\n              resolve(games);\r\n          })\r\n        })();\r\n      });\r\n  };\r\n\r\n  const fetchAll = (token) => {\r\n\r\n    return new Promise((resolve) => {\r\n\r\n      (async () => {\r\n        let libs = {};\r\n        let resolvedCount = 0;\r\n\r\n        for (let i = 0; i < handles.length; i++) {\r\n\r\n          const handle = handles[i];\r\n\r\n          await (async () => {\r\n            const library = await fetchLibrary(handle, token);\r\n\r\n            if (library) {\r\n              libs[handle] = library;\r\n            }\r\n          })();\r\n\r\n          resolvedCount++;\r\n          if (resolvedCount === handles.length) {\r\n            resolve(libs);\r\n          }\r\n      }})();\r\n    });\r\n  };\r\n\r\n  const libraries = await fetchAll(token);\r\n  return libraries;\r\n};\r\n\r\n\r\nexport const getLibraries = async (handles, token) => {\r\n  return await fetchLibraries(handles, token);\r\n};\r\n\r\n\r\nexport const fetchSummary = (steamid, token) => {\r\n  return new Promise((resolve) => {\r\n    (async () => {\r\n        await getProfile(steamid, token)\r\n          .then(summary => {\r\n              resolve(summary);\r\n          })\r\n          .catch(() => resolve(null));\r\n      })();\r\n    });\r\n};\r\n\r\n\r\nexport const fetchSummaryByHandle = (handle, token) => {\r\n  return new Promise((resolve) => {\r\n    (async () => {\r\n      await getUserId(handle, token)\r\n        .then(async steamid => {\r\n          await getProfile(steamid, token)\r\n            .then(summary => {\r\n                resolve(summary);\r\n            })\r\n            .catch(() => resolve(null));\r\n        })\r\n        .catch(() => resolve(null));\r\n      })();\r\n    });\r\n};\r\n\r\n\r\nexport const fetchFriends = (handle, token) => {\r\n  return new Promise((resolve) => {\r\n    (async () => {\r\n      await getUserId(handle, token)\r\n        .then(async steamid => {\r\n          await getFriends(steamid, handle, token)\r\n            .then(summaries => {\r\n                resolve(summaries);\r\n            })\r\n            .catch(() => resolve(null));\r\n        })\r\n        .catch(() => resolve(null));\r\n      })();\r\n    });\r\n};\r\n\r\n\r\nconst getProfile = async (steamid, token) => {\r\n\r\n  const key = `${steamid}_profile`;\r\n\r\n  const cachedprofiles = localStorage.getItem(key);\r\n  if (cachedprofiles != null && cachedprofiles !== '')\r\n    return JSON.parse(cachedprofiles);\r\n\r\n  const fetchProfile = (steamid, token) => {\r\n    return new Promise((resolve) => {\r\n      (async () => {\r\n        await fetch(`${userSummaryUrl}?steamid=${steamid}`, {\r\n                  method: 'GET',\r\n                  headers: {\r\n                      \"Authorization\": `Bearer ${token}`\r\n                  }\r\n              })\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            resolve(response)\r\n          })\r\n          .catch(() => {\r\n            console.log(\"User profile fetch failed\");\r\n            resolve(null);\r\n          });\r\n        })();\r\n      });\r\n  };\r\n\r\n  const profile = await fetchProfile(steamid, token);\r\n\r\n  if (profile) {\r\n    localStorage.setItem(key, JSON.stringify(profile));\r\n  }\r\n\r\n  return profile;\r\n}\r\n\r\n\r\nexport const verifyRecaptcha = (token, callback) => {\r\n\r\n  fetch(`${verifyCaptchaUrl}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ 'token': token })\r\n  })\r\n  .then(response => response.json())\r\n  .then(response => {\r\n    callback(response);\r\n  })\r\n  .catch(() => {\r\n    console.log(`Recaptcha verification failed`);\r\n  });\r\n\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as client from './../library-client';\r\n\r\nimport Spinner from 'reactjs-simple-spinner'\r\n\r\nconst block = {\r\n  display: 'block',\r\n} as React.CSSProperties;\r\n\r\nconst hidden = {\r\n  display: 'none'\r\n} as React.CSSProperties;\r\n\r\nexport default function UserList(props) {\r\n\r\n  let { mainUser, addUserHandler, handles, removeUserHandler, token, waitingFunc, passSummaries, userWaitingFunc, userWaitingIndex } = props;\r\n\r\n  const [summaries, setSummaries] = useState({} as any);\r\n  const [spinnerHide, setSpinnerHide] = useState([] as any);\r\n\r\n  const listRef = useRef(null);\r\n\r\n  const scrollToRef = (ref) => {\r\n    if (ref.current) {\r\n      ref.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n    }\r\n  }\r\n\r\n  const scrollToList = () => {\r\n    if (listRef) {\r\n      scrollToRef(listRef)\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (summaries && summaries.length > 1) {\r\n      scrollToList();\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [summaries]);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (!token || token === '' || mainUser === '') {\r\n      return;\r\n    }\r\n\r\n    client.fetchFriends(mainUser, token)\r\n      .then(sums => {\r\n        setSummaries(sums);\r\n        passSummaries(sums);\r\n        const hideSpinners = new Array(Object.keys(sums as any).length + 1).fill(true);\r\n        setSpinnerHide(hideSpinners);\r\n        if (waitingFunc && waitingFunc !== null) {\r\n          waitingFunc(false);\r\n        }\r\n      });\r\n\r\n  // eslint-disable-next-line\r\n  }, [mainUser, token]);\r\n\r\n\r\n  useEffect(() => {\r\n    const temp = spinnerHide.splice(0);\r\n    temp[userWaitingIndex] = true;\r\n    setSpinnerHide(temp);\r\n    // eslint-disable-next-line\r\n  }, [userWaitingIndex]);\r\n\r\n\r\n  const toggleFriend = (handle, index) => {\r\n\r\n    spinnerHide[index] = false;\r\n\r\n    userWaitingFunc(index);\r\n\r\n    if (!handles.includes(handle)) {\r\n      addUserHandler(handle, token);\r\n    } else {\r\n      removeUserHandler(handle, token);\r\n    }\r\n  }\r\n\r\n  if (!summaries || Object.keys(summaries).length === 0) {\r\n    return null;\r\n  }\r\n\r\n\r\n  let initAttr = {'init': 'true'};\r\n\r\n  return (<div style={block} ref={listRef}>\r\n    <p style={{fontSize:'18px', marginLeft: '10px', paddingTop: '20px'}}>\r\n      Select friends to compare.<br/><br/>\r\n      Scroll down for results.\r\n    </p>\r\n    <div className=\"list select multiple\" style={{\r\n      maxWidth: '333px', marginLeft: '5px', marginBottom: '20px'}}>\r\n    {\r\n      summaries.map((user, index) => { return user === undefined ? <></> :\r\n       (<div {...initAttr} className={handles.includes(user.steamID) ? 'item active' : 'item'} key={`user_${user.nickname}`}\r\n          style={{\r\n            marginBottom: '10px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            maxWidth: '333px'}}\r\n\r\n            onClick={event => {\r\n              if ($(event.target).parent().hasClass(\"multiple\")) {\r\n                $(event.target).toggleClass(\"active\")\r\n              } else {\r\n                $(event.target).siblings().removeClass(\"active\")\r\n                $(event.target).addClass(\"active\")\r\n              }\r\n              $(event.target).attr(\"init\", \"true\");\r\n              toggleFriend(user.steamID, index)\r\n            }}>\r\n            <img src={user.avatar.medium}\r\n               alt=\"\"\r\n               title={user.nickname}\r\n               width=\"30\"\r\n               height=\"30\"\r\n               style={{marginRight: '20px'}} />\r\n               <span style={{marginRight: '20px'}}>{user.nickname}</span>\r\n               <span style={spinnerHide[index] ? hidden : {}}><Spinner /></span>\r\n            </div>)\r\n          })}\r\n          </div>\r\n        </div>)\r\n      }\r\n\r\n\r\nUserList.propTypes = {\r\n  mainUser: PropTypes.any.isRequired,\r\n  handles: PropTypes.any.isRequired,\r\n  addUserHandler: PropTypes.any.isRequired,\r\n  removeUserHandler: PropTypes.any.isRequired,\r\n  token: PropTypes.any.isRequired,\r\n  waitingFunc: PropTypes.any,\r\n  userWaitingFunc: PropTypes.any,\r\n  userWaitingIndex: PropTypes.any,\r\n  passSummaries: PropTypes.any.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as client from './../library-client';\r\n\r\nimport Spinner from 'reactjs-simple-spinner'\r\n\r\nexport default function UserCheck(props) {\r\n\r\n  let { userHandler, mainUser, waitingFunc, waiting } = props;\r\n\r\n  const prompt = 'Enter your Steam profile name';\r\n  const [handle, setHandle] = useState('');\r\n  const [jwt, setJwt] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (mainUser !== '') {\r\n      setHandle(mainUser);\r\n    }\r\n\r\n    window[\"verifyRecaptcha\"] = client.verifyRecaptcha;\r\n    window[\"checkUser\"] = checkUser;\r\n\r\n  // eslint-disable-next-line\r\n  }, [mainUser]);\r\n\r\n\r\n\r\n  const checkUser = (handle, jwt) => {\r\n    userHandler(handle, jwt);\r\n    setJwt(jwt);\r\n  }\r\n\r\n\r\n\r\n  const tryCheckUser = () => {\r\n\r\n    if (handle === '') {\r\n      userHandler('', '');\r\n      return;\r\n    }\r\n\r\n    if (jwt && jwt !== '') {\r\n      checkUser(handle, jwt);\r\n      return;\r\n    }\r\n\r\n    waitingFunc(true);\r\n\r\n    const script = document.createElement('script');\r\n\r\n    script.type = \"text/javascript\";\r\n    script.innerHTML = `\r\n      grecaptcha.ready(function(){\r\n        grecaptcha.execute(\"6LfDq_MUAAAAAB_Kefr15OvioLopWcs2YELeXbP9\", {action: 'homepage'}).then(function(token) {\r\n          window[\"verifyRecaptcha\"](token, (jwt) => {\r\n            if (jwt && jwt !== '') {\r\n              window[\"checkUser\"]('${handle}', jwt);\r\n            }\r\n          })\r\n        })\r\n      });\r\n    `;\r\n\r\n    document.body.appendChild(script);\r\n  }\r\n\r\n\r\n\r\n  const handleChange = e => {\r\n    setHandle(e.target.value);\r\n  }\r\n\r\n  const handleKeypress = e => {\r\n    if (e.key === 'Enter') {\r\n      tryCheckUser();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{marginBottom: '20px'}}>\r\n      <input placeholder={prompt} value={handle} onChange={handleChange} onKeyPress={handleKeypress} style={{marginLeft: '3px', paddingLeft: '20px', fontSize: '18px', height: '60px', maxWidth: '333px'}} />\r\n      <div className=\"btn\" onClick={tryCheckUser} style={{display: 'flex', alignItems: 'center', height: '60px', justifyContent: 'center', maxWidth: '333px'}}>\r\n        <span style={{marginRight: '20px'}}>Get Friends</span>\r\n        { waiting ? <Spinner /> : <></> }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nUserCheck.propTypes = {\r\n  userHandler: PropTypes.any.isRequired,\r\n  mainUser: PropTypes.any.isRequired,\r\n  waiting: PropTypes.any.isRequired,\r\n  waitingFunc: PropTypes.any.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst img = {\r\n  float: 'left',\r\n  marginRight: '20px',\r\n  marginBottom: '7px'\r\n} as React.CSSProperties;\r\n\r\nconst userimg = {\r\n  marginRight: '7px',\r\n  marginBottom: '7px'\r\n} as React.CSSProperties;\r\n\r\nconst imgs = {\r\n  display: 'table',\r\n  marginBottom: '30px'\r\n} as React.CSSProperties;\r\n\r\nconst users = {\r\n  display: 'inline',\r\n} as React.CSSProperties;\r\n\r\n\r\n\r\nexport default function Game(props) {\r\n\r\n  let { game } = props;\r\n  const key = `img_${game.appID}`;\r\n\r\n  return (\r\n    <div style={imgs}>\r\n      <h5>{game.name}</h5>\r\n      <img key={key} src={game.logoURL} alt={game.name} style={img} />\r\n      <div style={users}>\r\n        { game.users.map(user =>\r\n          <img key={`${key}_${user.nickname}`}\r\n               src={user.avatar.medium}\r\n               alt={user.nickname}\r\n               title={user.nickname}\r\n               style={userimg}\r\n               width=\"29\"\r\n               height=\"29\" />) }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nGame.propTypes = {\r\n  game: PropTypes.any.isRequired,\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Game from './game';\r\nimport * as client from './../library-client';\r\n\r\nconst multiplayerIds = require('./../data/multiplayer.json');\r\n\r\nconst marginBottom = {\r\n  marginBottom: '20px'\r\n} as React.CSSProperties;\r\n\r\n\r\n\r\nfunction PopulateList(props): any {\r\n\r\n    let { games, multiplayerOnly } = props;\r\n\r\n    if (!games || !games.length) {\r\n      return null;\r\n    }\r\n\r\n    let output: any[] = [];\r\n\r\n    games.forEach(game => {\r\n      const key = `game_${game.appID}`;\r\n\r\n      if (multiplayerOnly && !multiplayerIds.includes(game.appID)) {\r\n        return;\r\n      }\r\n\r\n      output.push(<Game key={key} game={game} />);\r\n    });\r\n\r\n    if (output.length) {\r\n      return output;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n\r\n\r\nexport default function GameList(props) {\r\n\r\n  let { handles, scroll, token, summaries, userWaitingFunc, userWaitingIndex } = props;\r\n\r\n  const [games, setGames] = useState({} as any);\r\n  const [libraries, setLibraries] = useState({} as any);\r\n  const [multiplayerFlag, setMultiplayerFlag] = useState(true);\r\n  const [scrolled, setScrolled] = useState(false);\r\n\r\n  const listRef = useRef(null);\r\n\r\n  const scrollToRef = (ref) => {\r\n    if (ref.current && !scrolled) {\r\n      setScrolled(true);\r\n      // ref.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n    }\r\n  }\r\n\r\n  const scrollToList = () => {\r\n    if (listRef) {\r\n      scrollToRef(listRef)\r\n    }\r\n  };\r\n\r\n  const ensureData = () => {\r\n    if (!libraries) {\r\n      return false;\r\n    } else {\r\n      const keys = Object.keys(libraries);\r\n      if (!keys.length) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (!token || token === '') {\r\n      return;\r\n    }\r\n\r\n    if (handles.length < 2) {\r\n      userWaitingFunc(userWaitingIndex);\r\n      return;\r\n    }\r\n\r\n    client.getLibraries(handles, token)\r\n      .then(libs => {\r\n\r\n        setLibraries(libs)\r\n\r\n        if (!(handles.length === Object.keys(libs as {}).length) || Object.keys(libs as {}).length < 2) {\r\n          return;\r\n        }\r\n\r\n        const games = client.process(libs, summaries);\r\n\r\n        setGames(games);\r\n      });\r\n\r\n  // eslint-disable-next-line\r\n  }, [handles, token]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (userWaitingFunc && userWaitingFunc !== null) {\r\n      userWaitingFunc(userWaitingIndex);\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [games]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (handles.length > 1 && scroll) {\r\n      scrollToList();\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [games]);\r\n\r\n\r\n\r\n  if (handles.length < 2) {\r\n    return null;\r\n  }\r\n\r\n\r\n  if (!ensureData()) {\r\n    return null;\r\n  }\r\n\r\n\r\n\r\n  const flagHandler = () => {\r\n    setMultiplayerFlag(!multiplayerFlag);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div ref={listRef}>\r\n      <br />\r\n      <h4>Matched Games</h4>\r\n      <div className={`switch ${multiplayerFlag ? 'active' : ''}`} style={marginBottom} onClick={flagHandler}><span className=\"head\"></span></div>\r\n      <div className=\"label\" style={marginBottom}>Multiplayer only</div>\r\n      <PopulateList games={games} multiplayerOnly={multiplayerFlag} />\r\n    </div>\r\n  );\r\n}\r\n\r\nGameList.propTypes = {\r\n  handles: PropTypes.any.isRequired,\r\n  scroll: PropTypes.any.isRequired,\r\n  token: PropTypes.any.isRequired,\r\n  summaries: PropTypes.any.isRequired,\r\n  userWaitingFunc: PropTypes.any,\r\n  userWaitingIndex: PropTypes.any\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport './../styles/app.css';\r\n\r\nconst enabled = {\r\n  display: 'block',\r\n  textAlign: 'center'\r\n} as React.CSSProperties;\r\n\r\nconst disabled = {\r\n  display: 'none',\r\n} as React.CSSProperties;\r\n\r\n\r\n\r\nexport default function Theme() {\r\n\r\n  const [themeStyle, setThemeStyle] = useState(enabled);\r\n  const [buttonStyle, setButtonStyle] = useState(disabled);\r\n\r\n  useEffect(() => {\r\n\r\n    window[\"themeHandlerClient\"] = showThemeHandler;\r\n\r\n    const script = document.createElement('script');\r\n\r\n    script.type = \"text/javascript\"\r\n    script.innerHTML = `\r\n      var originalSetTheme = fluid.theme;\r\n\r\n      fluid.theme = function(value) {\r\n        window[\"themeHandlerClient\"]();\r\n        originalSetTheme(value);\r\n      };\r\n    `;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n\r\n  const showThemeHandler = () => {\r\n    if (themeStyle === disabled) {\r\n      setThemeStyle(enabled);\r\n      setButtonStyle(disabled);\r\n    } else {\r\n      setButtonStyle(enabled);\r\n      setThemeStyle(disabled);\r\n    }\r\n  }\r\n\r\n  return (<>\r\n    <br/>\r\n    <div className=\"btns row themeSelector\" style={themeStyle}></div>\r\n    <div className=\"btn\" style={buttonStyle} onClick={showThemeHandler}>Change Theme</div>\r\n  </>);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Popup from \"reactjs-popup\";\r\nimport styled from 'styled-components';\r\n\r\nimport './../styles/app.css';\r\n\r\n\r\nconst StyledPopup = styled(Popup)`\r\n  &-overlay {\r\n   ...\r\n  }\r\n  // use your custom style for \".popup-content\"\r\n  &-content {\r\n   width: auto !important;\r\n   font-size: 30px !important;\r\n   color: #3D4F66 !important;\r\n   font-family: var(--textFont) !important;\r\n   background-color: #eee !important;\r\n   padding: 15px !important;\r\n   text-align: center !important;\r\n   font-weight: bold !important;\r\n  }\r\n`\r\n\r\nexport default function Alert(props) {\r\n\r\n  let { content, onClose } = props;\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    setOpen(true);\r\n  }\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n    onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (content !== '') {\r\n      openModal();\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [content]);\r\n\r\n  return (\r\n    <div>\r\n      <StyledPopup\r\n        open={open}\r\n        closeOnDocumentClick\r\n        onClose={closeModal}>\r\n        {content}\r\n      </StyledPopup>\r\n    </div>\r\n  );\r\n}\r\n\r\nAlert.propTypes = {\r\n  content: PropTypes.any.isRequired,\r\n  onClose: PropTypes.any.isRequired\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './../styles/app.css';\r\n\r\nimport UserList from './userList';\r\nimport UserCheck from './userCheck';\r\nimport GameList from './gameList';\r\nimport Theme from './theme';\r\nimport Alert from './alert';\r\n\r\nimport * as client from './../library-client';\r\n\r\nconst marginBottom = {\r\n  marginBottom: '40px'\r\n} as React.CSSProperties;\r\n\r\nconst alignCenter = {\r\n  textAlign: 'center',\r\n  display: 'block'\r\n} as React.CSSProperties;\r\n\r\nconst header = {\r\n  textAlign: 'center',\r\n  overflow: 'hidden',\r\n  textOverflow: 'ellipsis',\r\n  whiteSpace: 'nowrap',\r\n  padding: '20px 0'\r\n} as React.CSSProperties;\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [handles, setHandles] = useState([] as string[]);\r\n  const [mainUser, setMainUser] = useState('');\r\n  const [lastAction, setLastAction] = useState('');\r\n  const [alertContent, setAlertContent] = useState('');\r\n  const [jwt, setJwt] = useState('');\r\n  const [waiting, setWaiting] = useState(false);\r\n  const [userWaitingIndex, setUserWaitingIndex] = useState(0);\r\n  const [summaries, setSummaries] = useState({} as any);\r\n\r\n  useEffect(() => {\r\n\r\n    const mainUserCache = localStorage.getItem(\"mainUser\")\r\n    // const handleCache = localStorage.getItem(\"handles\")\r\n\r\n    if (mainUserCache && mainUserCache !== '') {\r\n\r\n      window[\"verifyRecaptcha\"] = client.verifyRecaptcha;\r\n      window[\"setJwt\"] = setJwt;\r\n      window[\"setMainUser\"] = setMainUser;\r\n      window[\"setHandles\"] = setHandles;\r\n      window[\"mainUser\"] = mainUserCache;\r\n\r\n      // if (handleCache && handleCache !== '') {\r\n      //   const cachedHandles = JSON.parse(handleCache) as string[];\r\n      //   window[\"cachedHandles\"] = cachedHandles;\r\n      // }\r\n\r\n      const script = document.createElement('script');\r\n\r\n      script.type = \"text/javascript\"\r\n      script.innerHTML = `\r\n        grecaptcha.ready(function(){\r\n          grecaptcha.execute(\"6LfDq_MUAAAAAB_Kefr15OvioLopWcs2YELeXbP9\", {action: 'homepage'}).then(function(token) {\r\n            window[\"verifyRecaptcha\"](token, (jwt) => {\r\n              if (jwt && jwt !== '') {\r\n                window[\"setMainUser\"](window[\"mainUser\"]);\r\n                window[\"setJwt\"](jwt);\r\n\r\n                // if (window[\"cachedHandles\"] !== undefined) {\r\n                //   window[\"setHandles\"](window[\"cachedHandles\"]);\r\n                // }\r\n              }\r\n            })\r\n          })\r\n        });\r\n      `;\r\n\r\n      document.body.appendChild(script);\r\n    }\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const clearCacheHandler = () => {\r\n    const idKey = `${mainUser}_steamid`;\r\n    const id = localStorage.getItem(idKey) as string;\r\n\r\n    const friendKey = `${id}_friends`;\r\n    const friends = localStorage.getItem(friendKey) as string;\r\n\r\n    const theme = localStorage.getItem(\"fluidTheme\") as string;\r\n    localStorage.clear();\r\n    localStorage.setItem(\"mainUser\", mainUser);\r\n    localStorage.setItem(\"handles\", JSON.stringify(handles));\r\n    localStorage.setItem(\"fluidTheme\", theme);\r\n    localStorage.setItem(idKey, id);\r\n    localStorage.setItem(friendKey, friends);\r\n\r\n    window.location.reload(false);\r\n  }\r\n\r\n\r\n  const waitingHandler = value => {\r\n    setWaiting(value);\r\n  };\r\n\r\n\r\n  const userWaitingHandler = (index) => {\r\n    setUserWaitingIndex(index);\r\n  };\r\n\r\n\r\n  const userHandler = async (handle, token) => {\r\n\r\n    if (handle === '') {\r\n      setAlertContent(\"Please enter a valid Steam user\");\r\n      return;\r\n    }\r\n\r\n    if (token !== '') {\r\n      setJwt(token);\r\n    }\r\n\r\n    if (!handles.includes(handle)) {\r\n\r\n      await (async () => {\r\n        const summary = await client.fetchSummaryByHandle(handle, token) as any;\r\n\r\n        if (summary) {\r\n          localStorage.setItem(\"mainUser\", handle);\r\n          setMainUser(handle);\r\n          const added = [].concat(summary.steamID);\r\n          localStorage.setItem(\"handles\", JSON.stringify(added));\r\n          setHandles(added);\r\n          setLastAction('add');\r\n          return summary;\r\n        } else {\r\n          setAlertContent(\"User not found - is your profile public?\");\r\n        }\r\n      })();\r\n    } else {\r\n      setAlertContent(\"User already added\");\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const reloadHandler = async (id, token) => {\r\n\r\n    if (id === '') {\r\n      setAlertContent(\"Please enter a valid Steam user\");\r\n      return;\r\n    }\r\n\r\n    if (token !== '') {\r\n      setJwt(token);\r\n    }\r\n\r\n    let summary = {} as any;\r\n\r\n    if (!handles.includes(id)) {\r\n\r\n      await (async () => {\r\n        summary = await client.fetchSummary(id, token) as any;\r\n\r\n        if (summary) {\r\n          const added = [].concat(summary.steamID);\r\n          localStorage.setItem(\"handles\", JSON.stringify(added));\r\n          setHandles(added);\r\n          setLastAction('add');\r\n        } else {\r\n          setAlertContent(\"User not found - is your profile public?\");\r\n        }\r\n      })();\r\n    } else {\r\n      setAlertContent(\"User already added\");\r\n    }\r\n\r\n    return summary;\r\n  };\r\n\r\n\r\n  const addUserHandler = async (handle, token) => {\r\n\r\n    if (handle === '') {\r\n      setAlertContent(\"Please enter a valid Steam user\");\r\n      return;\r\n    }\r\n\r\n    if (token !== '') {\r\n      setJwt(token);\r\n    }\r\n\r\n    if (!handles.includes(handle)) {\r\n      const added = handles.concat(handle);\r\n      localStorage.setItem(\"handles\", JSON.stringify(added));\r\n      setHandles(added);\r\n      setLastAction('add');\r\n    } else {\r\n      setAlertContent(\"User already added\");\r\n      return;\r\n    }\r\n  };\r\n\r\n  const removeUserHandler = async (handle) => {\r\n\r\n    if (handle === '') {\r\n      setAlertContent(\"Username not provided\");\r\n      return;\r\n    }\r\n\r\n    const index = handles.indexOf(handle);\r\n    if (index > -1) {\r\n      const removed = handles.splice(0);\r\n      removed.splice(index, 1);\r\n      localStorage.setItem(\"handles\", JSON.stringify(removed));\r\n      setHandles(removed);\r\n      setLastAction('remove');\r\n    } else {\r\n      setAlertContent(\"User to remove not found\");\r\n    }\r\n  };\r\n\r\n\r\n  const passSummaries = async (sums) => {\r\n    const mainID = localStorage.getItem(`${mainUser}_steamid`);\r\n\r\n    reloadHandler(mainID, jwt)\r\n      .then(sum => {\r\n        sums.splice(0, 0, sum);\r\n        setSummaries(sums);\r\n      });\r\n  };\r\n\r\n\r\n  const closeAlert = () => {\r\n    setAlertContent('');\r\n  }\r\n\r\n\r\n  const clearCacheButton =\r\n      <div className=\"btn\"\r\n        onClick={clearCacheHandler}\r\n        style={{display: 'flex', alignItems: 'center', height: '60px', justifyContent: 'center', maxWidth: '333px'}}>\r\n        Refresh Cache\r\n      </div>;\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"section\">\r\n        <div className=\"body\">\r\n          <Theme />\r\n        </div>\r\n        <div style={header}>\r\n          <h2>Steam Social</h2>\r\n        </div>\r\n        <div className=\"body\">\r\n          <p style={marginBottom}>\r\n            Compare Steam libraries to help organise online multiplayer sessions with your friends.\r\n          </p>\r\n          {/* <p style={marginBottom}>\r\n            Ensure the accounts you want to compare have both a public profile and a public games list.\r\n          </p> */}\r\n          <p style={marginBottom}>\r\n            If you find the service useful, please consider supporting me on ko-fi.<br/><br/><br/><br/>\r\n            <span style={alignCenter}>\r\n              <a href='https://ko-fi.com/Q5Q61R4DM' target='_new'><img height='36' style={{border:'0px', height:'36px'}} src='https://cdn.ko-fi.com/cdn/kofi3.png?v=2'  alt='Buy Me a Coffee at ko-fi.com' /></a>\r\n            </span>\r\n            <br/>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"section\">\r\n        <div className=\"body\">\r\n          <UserCheck waiting={waiting} waitingFunc={waitingHandler} userHandler={userHandler} mainUser={mainUser} />\r\n          <UserList passSummaries={passSummaries} waitingFunc={waitingHandler} userWaitingFunc={userWaitingHandler} userWaitingIndex={userWaitingIndex} mainUser={mainUser} handles={handles} addUserHandler={addUserHandler} removeUserHandler={removeUserHandler} token={jwt} />\r\n          { summaries.length < 2 || handles.length < 2 ? <></> : clearCacheButton }\r\n        </div>\r\n      </div>\r\n      <div className=\"section\">\r\n        <div className=\"body\">\r\n          <GameList handles={handles} scroll={lastAction === 'add'} token={jwt} summaries={summaries} userWaitingFunc={userWaitingHandler} userWaitingIndex={userWaitingIndex} />\r\n        </div>\r\n      </div>\r\n      <div className=\"section\">\r\n        <div className=\"body\">\r\n          <div>\r\n            <br/><br/>\r\n            Please send bug reports and feature requests to <a href='mailto:steve@steviedis.co'>steve@steviedis.co</a>\r\n          </div>\r\n          <div style={alignCenter}>\r\n            <br/><br/>\r\n            <a href='/privacypolicy.html' target='_new'>Privacy policy</a><br/><br/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Alert content={alertContent} onClose={closeAlert} />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}