(this["webpackJsonpsteamroom-ui"]=this["webpackJsonpsteamroom-ui"]||[]).push([[0],{14:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(7),u=n.n(c),o=(n(14),n(5)),s={float:"left",marginRight:"20px"},i={marginRight:"10px"},l={display:"table",marginBottom:"20px"},f={display:"inline-block",width:"400px",maxWidth:"400px",marginRight:"20px"},p={display:"inline-block"},m={display:"table-row"},h={display:"table-cell",textOverflow:"ellipsis",overflow:"hidden",width:"400px",maxWidth:"400px",whiteSpace:"nowrap"};var d=function(e){var t=e.game,n="img_".concat(t.appID);return a.a.createElement("div",{style:l},a.a.createElement("div",{style:f},a.a.createElement("h5",{style:h},t.name),a.a.createElement("h5",{style:m},"x",t.owned)),a.a.createElement("div",{style:p},t.users.map((function(e){return a.a.createElement("img",{key:"".concat(n,"_").concat(e.nickname),src:e.avatar.medium,alt:e.nickname,style:i})}))),a.a.createElement("img",{key:n,src:t.logoURL,alt:t.name,style:s}))},v=n(0),w=n.n(v),x=n(2),b=n(8),g=n(16),y=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t,"_steamid"),null==(r=localStorage.getItem(n))||""===r){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("".concat("https://9192zxrrp6.execute-api.eu-west-1.amazonaws.com/default/get_steamUserIdFromHandle_Function","?handle=").concat(t));case 6:return a=e.sent,e.next=9,a.json();case 9:return c=e.sent,localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t,"_games"),null==(r=localStorage.getItem(n))||""===r){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return a=function(e){return new Promise((function(t){Object(x.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://k14n0rcap5.execute-api.eu-west-1.amazonaws.com/default/get_userOwnedGames_Function","?steamid=").concat(e)).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){console.log("Game list fetch failed"),t(null)}));case 2:case"end":return n.stop()}}),n)})))()}))},e.next=7,a(t);case 7:return(c=e.sent)&&localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return new Promise((function(t){Object(x.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e).then(function(){var e=Object(x.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()}))},r=function(){return new Promise((function(e){Object(x.a)(w.a.mark((function r(){var a,c,u,o;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a={},c=0,u=w.a.mark((function r(u){var o;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t[u],r.next=3,Object(x.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o);case 2:(t=e.sent)&&(a[o]=t);case 4:case"end":return e.stop()}}),e)})))();case 3:++c===t.length&&e(a);case 5:case"end":return r.stop()}}),r)})),o=0;case 4:if(!(o<t.length)){r.next=9;break}return r.delegateYield(u(o),"t0",6);case 6:o++,r.next=4;break;case 9:case"end":return r.stop()}}),r)})))()}))},e.next=4,r();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(x.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return new Promise((function(t){Object(x.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e).then(function(){var e=Object(x.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()}))},r=function(){return new Promise((function(e){Object(x.a)(w.a.mark((function r(){var a,c,u,o;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a={},c=0,u=w.a.mark((function r(u){var o;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t[u],r.next=3,Object(x.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o);case 2:(t=e.sent)&&(a[o]=t);case 4:case"end":return e.stop()}}),e)})))();case 3:++c===t.length&&e(a);case 5:case"end":return r.stop()}}),r)})),o=0;case 4:if(!(o<t.length)){r.next=9;break}return r.delegateYield(u(o),"t0",6);case 6:o++,r.next=4;break;case 9:case"end":return r.stop()}}),r)})))()}))},e.next=4,r();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t,"_profile"),null==(r=localStorage.getItem(n))||""===r){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return a=function(e){return new Promise((function(t){Object(x.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://8ydkm187n9.execute-api.eu-west-1.amazonaws.com/default/get_userSummary_Function","?steamid=").concat(e)).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){console.log("User profile fetch failed"),t(null)}));case 2:case"end":return n.stop()}}),n)})))()}))},e.next=7,a(t);case 7:return(c=e.sent)&&localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function N(e){var t=e.libraries,n=e.summaries;if(!t)return console.log("Libraries empty"),null;if(!Object.keys(t).length)return console.log("Libraries empty"),null;if(!n)return console.log("Summaries empty"),null;if(!Object.keys(n).length)return console.log("Summaries empty"),null;var r=function(e,t){if(!e||!t)return null;var n=[],r=Object.keys(e);r.forEach((function(t){var r=e[t];n.push.apply(n,Object(b.a)(r))}));var a=g.uniqWith(n,g.isEqual);a.sort((function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase(),a=0;return n>r?a=1:n<r&&(a=-1),a})),r.forEach((function(n){var r=e[n];a.filter((function(e){return r.some((function(t){return e.appID===t.appID}))})).forEach((function(e){var r=a.filter((function(t){return t.appID===e.appID}));1===r.length&&(r[0].owned?r[0].owned++:(r[0].owned=1,r[0].users=[]),r[0].users.push(t[n]))}))}));return a.sort((function(e,t){var n=e.owned,r=t.owned,a=0;return n<r?a=1:n>r&&(a=-1),a})),a.filter((function(e){return e.owned>1}))}(t,n);if(!r||!r.length)return console.log("Games empty"),null;var c=[];return r.forEach((function(e){var t="game_".concat(e.appID);c.push(a.a.createElement(d,{key:t,game:e}))})),c.length?c:null}var _=function(){var e=Object(r.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)({}),s=Object(o.a)(u,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){var e=["steviedisco","delphboy","chipbarm","StealthBanana","andreas3115"];j(e).then((function(e){c(e)})),E(e).then((function(e){l(e)}))}),[]),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"section"},a.a.createElement(N,{libraries:n,summaries:i})))},J={marginBottom:"20px"};var D=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Steam Room")),a.a.createElement("pre",null,a.a.createElement("code",{className:"prettyprint prettyprinted"},"Compare Steam libraries to help organise online multiplayer sessions with your friends."))),a.a.createElement("div",{className:"btn",style:J,onClick:function(){localStorage.clear(),window.location.reload(!1)}},"Clear cache")),a.a.createElement(_,null))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(D,null)),document.getElementById("root"))},9:function(e,t,n){e.exports=n(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.b1fe8772.chunk.js.map