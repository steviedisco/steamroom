(this["webpackJsonpsteamroom-ui"]=this["webpackJsonpsteamroom-ui"]||[]).push([[0],{14:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),u=(n(14),n(7)),s=n(1),i=n.n(s),l=n(2),p=n(8),f={float:"left",marginRight:"20px"},m={display:"table",marginBottom:"20px"},h={display:"inline"},d={display:"table-row"};var v=function(e){var t=e.game,n="img_".concat(t.appID);return a.a.createElement("div",{style:m},a.a.createElement("div",{style:h},a.a.createElement("h5",{style:d},t.name),a.a.createElement("h5",{style:d},"x",t.owned)),a.a.createElement("img",{key:n,src:t.logoURL,alt:t.name,style:f}))},w=n(16),b=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t,"_steamid"),null==(r=localStorage.getItem(n))||""===r){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("".concat("https://9192zxrrp6.execute-api.eu-west-1.amazonaws.com/default/get_steamUserIdFromHandle_Function","?handle=").concat(t));case 6:return a=e.sent,e.next=9,a.json();case 9:return c=e.sent,localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t,"_games"),null==(r=localStorage.getItem(n))||""===r){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return a=function(e){return new Promise((function(t){Object(l.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://k14n0rcap5.execute-api.eu-west-1.amazonaws.com/default/get_userOwnedGames_Function","?steamid=").concat(e)).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){console.log("Game list fetch failed"),t(null)}));case 2:case"end":return n.stop()}}),n)})))()}))},e.next=7,a(t);case 7:return(c=e.sent)&&localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e){var t=e.libraries;if(!t)return console.log("Libraries empty"),null;if(!Object.keys(t).length)return console.log("Libraries empty"),null;var n=function(e){if(!e)return null;var t=[],n=Object.keys(e);n.forEach((function(n){var r=e[n];t.push.apply(t,Object(p.a)(r))}));var r=w.uniqWith(t,w.isEqual);r.sort((function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase(),a=0;return n>r?a=1:n<r&&(a=-1),a})),n.forEach((function(t){var n=e[t];r.filter((function(e){return n.some((function(t){return e.appID===t.appID}))})).forEach((function(e){var t=r.filter((function(t){return t.appID===e.appID}));1===t.length&&(t[0].owned?t[0].owned++:t[0].owned=1)}))}));return r.sort((function(e,t){var n=e.owned,r=t.owned,a=0;return n<r?a=1:n>r&&(a=-1),a})),r.filter((function(e){return e.owned>1}))}(t);if(!n||!n.length)return console.log("Games empty"),null;var r=[];return n.forEach((function(e){var t="game_".concat(e.appID);r.push(a.a.createElement(v,{key:t,game:e}))})),r.length?r:null}var y=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return new Promise((function(t){Object(l.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e).then(function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()}))},r=function(){return new Promise((function(e){Object(l.a)(i.a.mark((function r(){var a,c,o,u;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a={},c=0,o=i.a.mark((function r(o){var u;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=t[o],r.next=3,Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(u);case 2:(t=e.sent)&&(a[u]=t);case 4:case"end":return e.stop()}}),e)})))();case 3:++c===t.length&&e(a);case 5:case"end":return r.stop()}}),r)})),u=0;case 4:if(!(u<t.length)){r.next=9;break}return r.delegateYield(o(u),"t0",6);case 6:u++,r.next=4;break;case 9:case"end":return r.stop()}}),r)})))()}))},e.next=4,r();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var k=function(){var e=Object(r.useState)({}),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){E(["steviedisco","delphboy","chipbarm","StealthBanana","andreas3115"]).then((function(e){c(e)}))}),[]),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"section"},a.a.createElement(x,{libraries:n})))},O={marginBottom:"20px"};var j=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Steam Room")),a.a.createElement("pre",null,a.a.createElement("code",{className:"prettyprint prettyprinted"},"Compare Steam libraries to help organise online multiplayer sessions with your friends."))),a.a.createElement("div",{className:"btn",style:O,onClick:function(){localStorage.clear(),window.location.reload(!1)}},"Clear cache")),a.a.createElement(k,null))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(j,null)),document.getElementById("root"))},9:function(e,t,n){e.exports=n(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.2a3f2ac9.chunk.js.map